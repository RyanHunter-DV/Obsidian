gpv will be moved from libs to here. And enhanced for automatical generation